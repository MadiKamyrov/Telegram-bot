# -*- coding: utf-8 -*-
import telebot
from telebot import types
import json

from db import students_collection
from feedback import save_feedback
from exam_prep import *

bot = telebot.TeleBot('5901618580:AAGaBkjDds36ZuTpfKL20hb0TbH474U14Ro')

user_ids = {}


@bot.message_handler(commands=['start'])
def send_welcome(message):
    keyboard = get_main_menu()
    if message.chat.id not in user_ids:
        user_ids[message.chat.id] = ''
    bot.reply_to(message, "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! —è –≤–∞—à –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π —Å—Ç—É–Ω–¥–µ–Ω—á–µ—Å–∫–∏–π –±–∏–ª–µ—Ç: ",
                 reply_markup=keyboard)
    bot.register_next_step_handler(message, process_user_id)


def process_user_id(message):
    user_id = message.text
    user_ids[message.chat.id] = user_id
    bot.reply_to(message, f"–í–∞—à —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏–π –±–∏–ª–µ—Ç: {user_id}")


@bot.message_handler(func=lambda message: message.text == '–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ')
def send_schedule(message):
    if message.chat.id not in user_ids:
        bot.reply_to(message, "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à —Å—Ç—É–Ω–¥–µ—á–µ—Å–∫–∏–π –±–∏–ª–µ—Ç:")
        bot.register_next_step_handler(message, process_user_id)
    else:
        user_id = user_ids[message.chat.id]
        student_data = students_collection.find_one({'user_id': int(user_id)})
        if student_data is None:
            bot.reply_to(message, "–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.")
        else:
            schedule_text = f"–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –Ω–µ–¥–µ–ª—é:\n\n" \
                            f"–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫:\n" \
                            f"{student_data['schedule']['–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫'][0]['–ø—Ä–µ–¥–º–µ—Ç']} {student_data['schedule']['–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫'][0]['–≤—Ä–µ–º—è']}\n" \
                            f"{student_data['schedule']['–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫'][1]['–ø—Ä–µ–¥–º–µ—Ç']} {student_data['schedule']['–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫'][1]['–≤—Ä–µ–º—è']}\n\n" \
                            f"–í—Ç–æ—Ä–Ω–∏–∫:\n" \
                            f"{student_data['schedule']['–í—Ç–æ—Ä–Ω–∏–∫'][0]['–ø—Ä–µ–¥–º–µ—Ç']} {student_data['schedule']['–í—Ç–æ—Ä–Ω–∏–∫'][0]['–≤—Ä–µ–º—è']}\n" \
                            f"{student_data['schedule']['–í—Ç–æ—Ä–Ω–∏–∫'][1]['–ø—Ä–µ–¥–º–µ—Ç']} {student_data['schedule']['–í—Ç–æ—Ä–Ω–∏–∫'][1]['–≤—Ä–µ–º—è']}\n\n" \
                            f"–°—Ä–µ–¥–∞:\n" \
                            f"{student_data['schedule']['–°—Ä–µ–¥–∞'][0]['–ø—Ä–µ–¥–º–µ—Ç']} {student_data['schedule']['–°—Ä–µ–¥–∞'][0]['–≤—Ä–µ–º—è']}\n" \
                            f"{student_data['schedule']['–°—Ä–µ–¥–∞'][1]['–ø—Ä–µ–¥–º–µ—Ç']} {student_data['schedule']['–°—Ä–µ–¥–∞'][1]['–≤—Ä–µ–º—è']}\n\n" \
                            f"–ß–µ—Ç–≤–µ—Ä–≥:\n" \
                            f"{student_data['schedule']['–ß–µ—Ç–≤–µ—Ä–≥'][0]['–ø—Ä–µ–¥–º–µ—Ç']} {student_data['schedule']['–ß–µ—Ç–≤–µ—Ä–≥'][0]['–≤—Ä–µ–º—è']}\n" \
                            f"{student_data['schedule']['–ß–µ—Ç–≤–µ—Ä–≥'][1]['–ø—Ä–µ–¥–º–µ—Ç']} {student_data['schedule']['–ß–µ—Ç–≤–µ—Ä–≥'][1]['–≤—Ä–µ–º—è']}\n\n" \
                            f"–ü—è—Ç–Ω–∏—Ü–∞:\n" \
                            f"{student_data['schedule']['–ü—è—Ç–Ω–∏—Ü–∞'][0]['–ø—Ä–µ–¥–º–µ—Ç']} {student_data['schedule']['–ü—è—Ç–Ω–∏—Ü–∞'][0]['–≤—Ä–µ–º—è']}\n" \
                            f"{student_data['schedule']['–ü—è—Ç–Ω–∏—Ü–∞'][1]['–ø—Ä–µ–¥–º–µ—Ç']} {student_data['schedule']['–ü—è—Ç–Ω–∏—Ü–∞'][1]['–≤—Ä–µ–º—è']}\n\n"

            bot.reply_to(message, schedule_text)


@bot.message_handler(func=lambda message: message.text == '–û—Ü–µ–Ω–∫–∏')
def get_grades(message):
    if message.chat.id not in user_ids:
        bot.reply_to(message, "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏–π –±–∏–ª–µ—Ç:")
        bot.register_next_step_handler(message, process_user_id)
    else:
        user_id = user_ids[message.chat.id]
        student_data = students_collection.find_one({'user_id': int(user_id)})
        if student_data is None:
            bot.reply_to(message, "You don't have any grades yet.")
        else:
            grades_text = f"–í–∞—à–∏ —Ç–µ–∫—É—â–∏–µ –æ—Ü–µ–Ω–∫–∏:\n\n" \
                          f"–ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö: {student_data['grades']['–ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö']} –±–∞–ª–ª–æ–≤\n" \
                          f"–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π: {student_data['grades']['–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π']} –±–∞–ª–ª–æ–≤\n" \
                          f"–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ III: {student_data['grades']['–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ III']} –±–∞–ª–ª–æ–≤\n" \
                          f"–û–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ: {student_data['grades']['–û–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ']} –±–∞–ª–ª–æ–≤\n" \
                          f"–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä: {student_data['grades']['–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä']} –±–∞–ª–ª–æ–≤\n\n"
            bot.reply_to(message, grades_text)


@bot.message_handler(func=lambda message: message.text == '–≠–∫–∑–∞–º–µ–Ω—ã')
def send_exams(message):
    exams_text = "Exams:\n\n" \
                 "–ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö - –ú–∞–π 1, 8:00\n" \
                 "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ III - –ú–∞–π 5, 12:00\n" \
                 "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π - –ú–∞–π 10, 14:00\n" \
                 "–û–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ - –ú–∞–π 15, 10:00\n" \
                 "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä - –ú–∞–π 20, 13:00\n\n"
    bot.reply_to(message, exams_text)


FAQS = {
    "–ö—Ç–æ —Ç–∞–∫–æ–π —ç–¥–≤–∞–π–∑–µ—Ä?": "–≠–¥–≤–∞–π–∑–µ—Ä —ç—Ç–æ –ø—Ä–µ–ø–æ–¥–æ–≤–∞—Ç–µ–ª—å, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞ –ø–æ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–º –≤–æ–ø—Ä–æ—Å–∞–º –≤–æ –≤—Ä–µ–º—è —É—á–µ–±—ã. –≠–¥–≤–∞–π–∑–µ—Ä –æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–¥–µ–π—Å—Ç–≤–∏—è —Å—Ç—É–¥–µ–Ω—Ç—É –≤ –≤—ã–±–æ—Ä–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω –ø—Ä–∏ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –ò–£–ü–∞, —Ä–∞–∑—ä—è—Å–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –æ–±—É—á–µ–Ω–∏—è –∏ —Ç.–¥. –≠–¥–≤–∞–π–∑–µ—Ä–∞ –Ω–∞–∑–Ω–∞—á–µ—Ç –¥–∏—Ä–µ–∫—Ü–∏—è –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞",
    "–ö–∞–∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ —É—á–µ–±–Ω–æ–º –ø–æ—Ä—Ç–∞–ª–µ?": "–í–æ–π—Ç–∏ –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—Ç–∞–ª https://sso.satbayev.university –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é—É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –∏—Å–ø–æ–ª—å–∑—É—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ª–æ–≥–∏–Ω–∞ –í–∞—à –ò–ò–ù –∏ —Ç–æ—Ç –∂–µ –ø–∞—Ä–æ–ª—å, —á—Ç–æ –∏ –ø—Ä–∏ –ø–æ–¥–∞—á–µ–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–∏—ë–º–Ω—É—é –∫–æ–º–∏—Å—Å–∏—é https://kb.satbayev.university. –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ –£—á–µ–±–Ω—ã–π–ø–æ—Ä—Ç–∞–ª, —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–∞—Å —Å–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –Ω–∞ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π, –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–∫ –ø–∞—Ä–æ–ª—é. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å, –∑–∞–ø–æ–º–Ω–∏—Ç–µ –µ–≥–æ –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª!–±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ –£—á–µ–±–Ω—ã–π –ø–æ—Ä—Ç–∞–ª, –í–∞–º —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–π—Å–∏—Å—Ç–µ–º–∞ –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è Polytechonline –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤Microsoft 365. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–≤–æ—ë –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ –∏ —Å–∫–∞—á–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µMicrosoft Teams –Ω–∞ —Å–≤–æ–π –º–æ–±–∏–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω.",
    "–ö–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É —Å –º–µ—Å—Ç–∞ —É—á–µ–±—ã?": "–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –≤—ã–¥–∞–µ—Ç —Å–ø—Ä–∞–≤–∫–∏ —Å –º–µ—Å—Ç–∞ —É—á–µ–±—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –∏—Ö –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫—É—é –∑–∞–Ω—è—Ç–æ—Å—Ç—å –≤ –í–£–ó–µ. –°–ø—Ä–∞–≤–∫–∏ —Å –º–µ—Å—Ç–∞ —É—á–µ–±—ã –≤—ã–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∏–∑–¥–∞–Ω–∏—è –ü—Ä–∏–∫–∞–∑–∞ –æ –∑–∞—á–∏—Å–ª–µ–Ω–∏–∏: ÔÇ∑ —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –≤–æ–∏–Ω—Å–∫–æ–º—É —É—á–µ—Ç—É (–¥–ª—è –æ—Ç—Å—Ä–æ—á–∫–∏ –æ—Ç –∞—Ä–º–∏–∏) ‚Äì 341 –∫–∞–±–∏–Ω–µ—Ç –ì–£–ö.ÔÇ∑ —Å–ø—Ä–∞–≤–∫–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Å–æ–±–∏—è (–ø–æ –∏–Ω–≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏, –º–Ω–æ–≥–æ–¥–µ—Ç–Ω—ã–µ —Å–µ–º—å–∏ –∏—Ç.–¥.) ‚Äì 407–ê –∫–∞–±–∏–Ω–µ—Ç –ù–ö.ÔÇ∑ —Å–ø—Ä–∞–≤–∫–∞ –≤ –æ–±—â–µ–∂–∏—Ç–∏–µ –∏–ª–∏ –≤ –±–∞–Ω–∫ (–¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç—ã), –≤ —à–∫–æ–ª—É, –¥–ª—è–ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ —Ç.–¥. ‚Äì –æ–∫–Ω–æ ‚Ññ1 –û—Ñ–∏—Å–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. –°–ø—Ä–∞–≤–∫–∏ ¬´–ü–æ –º–µ—Å—Ç—É —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è¬ª –Ω–µ –≤—ã–¥–∞—é—Ç—Å—è.",
    "–ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å –±–∞–Ω–∫–æ–≤—Å–∫—É—é –∫–∞—Ä—Ç—É –¥–ª—è —Å—Ç–∏–ø–µ–Ω–¥–∏–∏? –ö–æ–≥–¥–∞ —è –±—É–¥—É –ø–æ–ª—É—á–∞—Ç—å —Å—Ç–∏–ø–µ–Ω–¥–∏—é?": "–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∏–ø–µ–Ω–¥–∏–∏ –æ–±–ª–∞–¥–∞—Ç–µ–ª—è–º –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞–Ω—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –•–∞–ª—ã–∫ –ë–∞–Ω–∫ –∏ –æ—Ç–∫—Ä—ã—Ç—å –±–∞–Ω–∫–æ–≤—Å–∫—É—é –∫–∞—Ä—Ç—É –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è —Å—Ç–∏–ø–µ–Ω–¥–∏–∏. –ï—Å–ª–∏ –í–∞–º –Ω–µ—Ç 18 –ª–µ—Ç, —Ç–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. 20-–∑–Ω–∞—á–Ω—ã–π –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∫ –∫–∞—Ä—Ç–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–æ–±—â–∏—Ç—å —Å–≤–æ–µ–º—É —ç–¥–≤–∞–π–∑–µ—Ä—É –¥–æ 15 —Å–µ–Ω—Ç—è–±—Ä—è. –°—Ç–∏–ø–µ–Ω–¥–∏—è –∑–∞ —Å–µ–Ω—Ç—è–±—Ä—å –ø–æ—Å—Ç—É–ø–∏—Ç –Ω–∞ –∫–∞—Ä—Ç—É —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –æ–∫—Ç—è–±—Ä–µ, –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ ‚Äì –≤ –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞. –ü–µ—Ä–≤—ã–π (–æ—Å–µ–Ω–Ω–∏–π) —Å–µ–º–µ—Å—Ç—Ä —Å—Ç–∏–ø–µ–Ω–¥–∏—è –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –≤—Å–µ–º –æ–±–ª–∞–¥–∞—Ç–µ–ª—è–º –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞–Ω—Ç–∞, –≤–æ –≤—Ç–æ—Ä–æ–º (–≤–µ—Å–µ–Ω–Ω–µ–º) —Å–µ–º–µ—Å—Ç—Ä–µ ‚Äì –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –∑–∏–º–Ω–µ–π —Å–µ—Å—Å–∏–∏. –ü–æ–º–Ω–∏—Ç–µ! –í—ã —Ç–µ—Ä—è–µ—Ç–µ —Å—Ç–∏–ø–µ–Ω–¥–∏—é, –µ—Å–ª–∏ —É –í–∞—Å –±—É–¥–µ—Ç —Ö–æ—Ç—å –æ–¥–Ω–∞ –∏—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ ¬´–°¬ª –∏ –Ω–∏–∂–µ (70 –∏ –º–µ–Ω–µ–µ –±–∞–ª–ª–æ–≤). –°—Ç–∏–ø–µ–Ω–¥–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º —É—á–µ–±–Ω–æ–º —Å–µ–º–µ—Å—Ç—Ä–µ –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ —É—Å–ø–µ—à–Ω–æ–π —Å–¥–∞—á–∏ —Å–µ—Å—Å–∏–∏.",
    "–ö–∞–∫ —Ä–æ–¥–∏—Ç–µ–ª—è–º —É–∑–Ω–∞—Ç—å –æ–± —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ –∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –∑–∞–Ω—è—Ç–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞?": "–†–æ–¥–∏—Ç–µ–ª–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞ –º–æ–≥—É—Ç —É–∑–Ω–∞—Ç—å –æ–± —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ –∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ —Å–≤–æ–µ–≥–æ —Ä–µ–±—ë–Ω–∫–∞ –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –ø–æ—Ä—Ç–∞–ª–µ (—Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—Ç—É–¥–µ–Ω—Ç–∞, —á–µ—Ä–µ–∑ –µ–≥–æ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å). –í –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —ç–¥–≤–∞–π–∑–µ—Ä–∞ –Ω–µ –≤—Ö–æ–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª–µ–π –æ–± —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞, –Ω–æ —ç–¥–≤–∞–π–∑–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã —Ä–æ–¥–∏—Ç–µ–ª–µ–π –ø–æ –∑–∞–ø—Ä–æ—Å—É.",
    "–ï—Å—Ç—å –ª–∏ –∫–∞–∫–∏–µ-—Ç–æ –ø–æ—Å–æ–±–∏—è –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤-—Å–∏—Ä–æ—Ç, –∏–Ω–≤–∞–ª–∏–¥–æ–≤, –∏–∑ –º–Ω–æ–≥–æ–¥–µ—Ç–Ω—ã—Ö –∏–ª–∏ –º–∞–ª–æ–∏–º—É—â–∏—Ö—Å–µ–º–µ–π?": "–î–∞, —Ç–∞–∫–∞—è –ø–æ–º–æ—â—å –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –ø–æ —Ç–∞–∫–∏–º –≤–æ–ø—Ä–æ—Å–∞–º –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤ –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –ø–æ —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏–º –≤–æ–ø—Ä–æ—Å–∞–º (–°–æ—Ü–∏–∞–ª—å–Ω—ã–π —Å–µ–∫—Ç–æ—Ä, 407–ê –∫–∞–±–∏–Ω–µ—Ç –ù–ö).",
    "–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏–ª –∑–∞–Ω—è—Ç–∏—è?": "–ü–æ –ø—Ä–∞–≤–∏–ª–∞–º –ö–¢–û –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Å–µ–≥–æ 20% –ø—Ä–æ–ø—É—Å–∫–æ–≤ –ø–æ –æ–¥–Ω–æ–π –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ –∑–∞ —Å–µ–º–µ—Å—Ç—Ä, –µ—Å–ª–∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –ø—è—Ç–∏–∫—Ä–µ–¥–∏—Ç–Ω–∞—è ‚Äì 9 –ø—Ä–æ–ø—É—Å–∫–æ–≤, –µ—Å–ª–∏ —Ç—Ä–µ—Ö–∫—Ä–µ–¥–∏—Ç–Ω–∞—è ‚Äì 6 (–Ω–µ —Å—á–∏—Ç–∞—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã). –ñ—É—Ä–Ω–∞–ª –≤ –ø–æ—Ä—Ç–∞–ª–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º –ø–æ —Ñ–∞–∫—Ç—É. –ü—Ä–æ–ø—É—Å–∫–∏ –∏–∑ –∂—É—Ä–Ω–∞–ª–∞ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è. –ï—Å–ª–∏ –≤—ã –∑–∞–±–æ–ª–µ–ª–∏, —Ç–æ —Å–ø—Ä–∞–≤–∫–∏ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–æ–ø—É—Å–∫–∏ –ø–æ –±–æ–ª–µ–∑–Ω–∏ –≤—Ö–æ–¥—è—Ç –≤ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ 20%. –ó–∞—è–≤–ª–µ–Ω–∏–µ —Å –ø—Ä–æ—Å—å–±–æ–π —É–±—Ä–∞—Ç—å –ø—Ä–æ–ø—É—Å–∫–∏ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è. –ü—Ä–æ–ø—É—Å–∫–∏ —Å–≤—ã—à–µ 20% –Ω–µ –¥–∞—é—Ç –¥–æ–ø—É—Å–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω—É.",
    # Add more questions and answers here
}


@bot.message_handler(func=lambda message: message.text == 'FAQs')
def faq_command(message):
    questions = list(FAQS.keys())
    keyboard = types.ReplyKeyboardMarkup(row_width=1, resize_keyboard=True)
    for question in questions:
        keyboard.add(types.KeyboardButton(question))
    keyboard.add(types.KeyboardButton('–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é'))
    bot.reply_to(message, "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ø—Ä–æ—Å:", reply_markup=keyboard)


@bot.message_handler(func=lambda message: message.text in FAQS)
def faq_message(message):
    answer = FAQS[message.text]
    bot.reply_to(message, answer, reply_markup=get_faq_keyboard())


@bot.message_handler(func=lambda message: message.text == '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é')
def back_to_main_menu(message):
    bot.reply_to(message, '–í—ã –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é!', reply_markup=get_main_menu())


@bot.message_handler(func=lambda message: message.text == '–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤')
def message_handler(message):
    if message.text == '–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤':
        bot.send_message(message.from_user.id, '–í–≤–µ–¥–∏—Ç–µ –≤–∞—à—É –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–æ—á—Ç—É:',
                         reply_markup=create_cancel_keyboard())
        bot.register_next_step_handler(message, email_handler)
    else:
        bot.send_message(message.from_user.id, '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é.', reply_markup=get_main_menu())


def create_cancel_keyboard():
    keyboard = types.ReplyKeyboardMarkup(row_width=1, resize_keyboard=True)
    back_button = types.KeyboardButton('–ù–∞–∑–∞–¥')
    keyboard.add(back_button)
    return keyboard


def email_handler(message):
    if message.text == '–ù–∞–∑–∞–¥':
        bot.send_message(message.from_user.id, '–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é!', reply_markup=get_main_menu())
        return
    email = message.text
    if '@' not in email:
        bot.send_message(message.from_user.id, '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.',
                         reply_markup=create_cancel_keyboard())
        bot.register_next_step_handler(message, email_handler)
        return
    bot.send_message(message.from_user.id, '–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–∑—ã–≤:', reply_markup=create_cancel_keyboard())
    bot.register_next_step_handler(message, feedback_handler, email)


def feedback_handler(message, email):
    if message.text == '–ù–∞–∑–∞–¥':
        bot.send_message(message.from_user.id, '–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –∫ –≤–≤–æ–¥—É email!', reply_markup=create_cancel_keyboard())
        bot.register_next_step_handler(message, email_handler)
        return
    save_feedback(email, message.text)
    bot.send_message(message.from_user.id, '–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –æ—Ç–∑—ã–≤!', reply_markup=get_main_menu())


@bot.message_handler(func=lambda message: message.text == '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω—É')
def exams_handler(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    subjects = get_exam_subjects()
    for subject in subjects:
        markup.add(types.KeyboardButton(subject))
    markup.add(types.KeyboardButton('–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é'))
    bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç:', reply_markup=markup)
    @bot.message_handler(func=lambda message: message.text in get_exam_subjects())
    def send_exam_materials(message):
        exam_materials_str = get_exam_materials(message.text)
        try:
            exam_materials = json.loads(exam_materials_str)
        except json.decoder.JSONDecodeError:
            bot.send_message(message.chat.id, exam_materials_str)
            return
        result_str = f"<b>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ {message.text}:</b>\n\n"
        for category, materials in exam_materials.items():
            result_str += f"<b>{category}:</b> {materials}\n"
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        markup.add(types.KeyboardButton('–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é'))
        bot.send_message(message.chat.id, result_str, parse_mode='HTML', reply_markup=markup)

    @bot.message_handler(func=lambda message: True)
    def text_handler(message):
        if message.text == '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é':
            bot.send_message(message.from_user.id, '–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é!', reply_markup=get_main_menu())
        else:
            bot.send_message(message.chat.id,
                             '–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ –ø–æ–Ω–∏–º–∞—é –≤–∞—Å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥—É—é –∫–æ–º–∞–Ω–¥—É.')


EVENTS = {
    "–¢—É—Ä–Ω–∏—Ä –ø–æ —Ñ—É—Ç–±–æ–ª—É": "–ü—Ä–∏–≤–µ—Ç, –¥—Ä—É–∑—å—è!\n\n–ú—ã —Ä–∞–¥—ã –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –≤–∞—Å –Ω–∞ –Ω–∞—à –ª—é–±–∏–º—ã–π —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –ø—Ä–∞–∑–¥–Ω–∏–∫ - —Ç—É—Ä–Ω–∏—Ä –ø–æ —Ñ—É—Ç–±–æ–ª—É —Å—Ä–µ–¥–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ Satbayev University! üèÜ\n\n14 –º–∞—è –º—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è –Ω–∞ –ø–æ–ª–µ –≤–Ω—É—Ç—Ä–∏ –∫–∞–º–ø—É—Å–∞, —á—Ç–æ–±—ã –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ –∏ –±–æ—Ä–æ—Ç—å—Å—è –∑–∞ –∑–∞—Å–ª—É–∂–µ–Ω–Ω–æ–µ –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ –æ—Ç —Å–≤–æ–∏—Ö –æ–¥–Ω–æ–∫—É—Ä—Å–Ω–∏–∫–æ–≤. –ö–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ 11 –∏–≥—Ä–æ–∫–æ–≤, –∞ –º–∞—Ç—á–∏ - –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–æ–º–∞–Ω–¥–Ω—ã—Ö —Å—Ä–∞–∂–µ–Ω–∏–π. ‚öΩÔ∏è\n\n–ö–æ–Ω–µ—á–Ω–æ –∂–µ, –Ω–∞ —Ç—É—Ä–Ω–∏—Ä–µ –º—ã –Ω–µ –∑–∞–±—ã–≤–∞–µ–º –∏ –æ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è—Ö! –†–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–Ω–∫—É—Ä—Å—ã, —Ä–æ–∑—ã–≥—Ä—ã—à–∏ –ø—Ä–∏–∑–æ–≤ –∏ –¥—Ä—É–≥–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–º–æ–≥—É—Ç –≤–∞–º –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è —Å –ø–æ–ª—å–∑–æ–π –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è –∏ –¥—É—à–∏, –∞ —Ç–∞–∫–∂–µ —É–∫—Ä–µ–ø–∏—Ç—å –¥—Ä—É–∂–µ—Å–∫–∏–µ —Å–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏. üéâ\n\n–ù–µ —É–ø—É—Å—Ç–∏—Ç–µ —Å–≤–æ–π —à–∞–Ω—Å —Å—Ç–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–º —á–µ–º–ø–∏–æ–Ω–æ–º, –ø–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ–∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è —Å –Ω–æ–≤—ã–º–∏ –ª—é–¥—å–º–∏! –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Å–≤–æ—é –∫–æ–º–∞–Ω–¥—É –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ Satbayev University –∏ –∂–¥–µ–º –≤–∞—Å –Ω–∞ –ø–æ–ª–µ 14 –º–∞—è! ‚öΩÔ∏èüëä\n\n–î–æ –≤—Å—Ç—Ä–µ—á–∏ –Ω–∞ —Ç—É—Ä–Ω–∏—Ä–µ! üòâ",
    "Satbayev Fest": "üéâ –î—Ä—É–∑—å—è, –º—ã —Ä–∞–¥—ã –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –≤–∞—Å –Ω–∞ –Ω–∞—à –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∞–∑–¥–Ω–∏–∫ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ - Satbayev Fest! –≠—Ç–æ —Å–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–±—ä–µ–¥–∏–Ω–∏—Ç –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤–æ–∫—Ä—É–≥ –æ–±—â–µ–π —Ü–µ–ª–∏ - –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è —Å –ø–æ–ª—å–∑–æ–π –∏ –Ω–∞—Å–ª–∞–¥–∏—Ç—å—Å—è —è—Ä–∫–∏–º–∏ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏. \n\n–í —ç—Ç–æ–º –≥–æ–¥—É Satbayev Fest –±—É–¥–µ—Ç –µ—â–µ –±–æ–ª–µ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º! –í–∞—Å –∂–¥—É—Ç:\n\nüé§ –ö–æ–Ω—Ü–µ—Ä—Ç—ã –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∞—Ä—Ç–∏—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Ä–∞–¥—É—é—Ç –≤–∞—Å —Å–≤–æ–∏–º —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ–º –∏ –ø–æ–∑–≤–æ–ª—è—Ç –Ω–∞—Å–ª–∞–¥–∏—Ç—å—Å—è –º—É–∑—ã–∫–æ–π –≤ –æ—Ç–ª–∏—á–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏;\nüé® –í—ã—Å—Ç–∞–≤–∫–∏ —Ä–∞–±–æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –Ω–∞—à–µ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤;\nüõçÔ∏è –Ø—Ä–º–∞—Ä–∫–∞ —Ä–µ–º–µ—Å–µ–ª, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –∞ —Ç–∞–∫–∂–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±–ª—é–¥–∞;\nüéâ –†–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–Ω–∫—É—Ä—Å—ã –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –≤–∞–º –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –Ω–æ–≤—ã–º–∏ –ª—é–¥—å–º–∏, –Ω–∞–π—Ç–∏ –Ω–æ–≤—ã—Ö –¥—Ä—É–∑–µ–π –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è —Å –ø–æ–ª—å–∑–æ–π –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è –∏ –¥—É—à–∏.\n\nSatbayev Fest - —ç—Ç–æ –æ—Ç–ª–∏—á–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è –∏ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è, –Ω–æ –∏ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è —á–∞—Å—Ç—å—é –±–æ–ª—å—à–æ–π –∏ –¥—Ä—É–∂–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã. –ú—ã –∂–¥–µ–º –≤–∞—Å –Ω–∞ –∫–∞–º–ø—É—Å–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –∏ –æ–±–µ—â–∞–µ–º, —á—Ç–æ –≤—ã –Ω–µ –ø–æ–∂–∞–ª–µ–µ—Ç–µ –æ —Å–≤–æ–µ–º —Ä–µ—à–µ–Ω–∏–∏ –ø–æ—Å–µ—Ç–∏—Ç—å Satbayev Fest!\n\n–ù–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —Å–∞–º–æ–µ —è—Ä–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞, –¥–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è - 5 –∏—é–Ω—è. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–æ–≤–æ—Å—Ç—è–º–∏ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ Satbayev University! üéâüé®üé§üõçÔ∏è",
    "–î–µ–Ω—å –ø–æ–±–µ–¥—ã!": "üå∫ –î–æ—Ä–æ–≥–∏–µ –¥—Ä—É–∑—å—è!\n\n9 –º–∞—è - —ç—Ç–æ –¥–µ–Ω—å, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–∂–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∞—Å. –≠—Ç–æ –¥–µ–Ω—å, –∫–æ–≥–¥–∞ –º—ã –æ—Ç–º–µ—á–∞–µ–º –ø–æ–±–µ–¥—É –Ω–∞–¥ –Ω–∞—Ü–∏–∑–º–æ–º –≤–æ –í—Ç–æ—Ä–æ–π –ú–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω–µ –∏ –ø–æ—á—Ç–∏–ª–∏ –ø–∞–º—è—Ç—å —Ç–µ—Ö, –∫—Ç–æ –∂–µ—Ä—Ç–≤–æ–≤–∞–ª —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é –∑–∞ –Ω–∞—à—É —Å–≤–æ–±–æ–¥—É.\n\n‚ù§Ô∏è –í —ç—Ç–æ—Ç –¥–µ–Ω—å –º—ã —Ö–æ—Ç–∏–º –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞—à—É –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –∏ —É–≤–∞–∂–µ–Ω–∏–µ –∫ –≥–µ—Ä–æ—è–º –∏ –≤–µ—Ç–µ—Ä–∞–Ω–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Å—Ç–æ—è–ª–∏ –º–∏—Ä –∏ —Å–≤–æ–±–æ–¥—É –Ω–∞—à–µ–π —Å—Ç—Ä–∞–Ω—ã.\n\nüéâ –ü–æ—ç—Ç–æ–º—É, –≤ —á–µ—Å—Ç—å —ç—Ç–æ–≥–æ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è, –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ –ø—Ä–æ–π–¥–µ—Ç –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–±—ä–µ–¥–∏–Ω–∏—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤–æ–∫—Ä—É–≥ –æ–±—â–µ–π —Ü–µ–ª–∏ - —á—Ç–æ–± –≤–º–µ—Å—Ç–µ –æ—Ç–º–µ—Ç–∏—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –∏ –ø–æ—á—Ç–∏—Ç—å –ø–∞–º—è—Ç—å –≥–µ—Ä–æ–µ–≤.\n\nüëÄ –í–∞—Å –∂–¥—É—Ç:\n\n–°–æ—á—É–≤—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è –∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤;\n–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∫–æ–Ω–∫—É—Ä—Å—ã –∏ –∏–≥—Ä—ã;\n–§–æ—Ç–æ–∑–æ–Ω–∞ –¥–ª—è —Å–µ–ª—Ñ–∏;\n–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ—É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ü–∏–∏ –∏ –ø—Ä–æ—è–≤–∏—Ç—å —Å–≤–æ—é –∑–∞–±–æ—Ç—É –æ –≤–µ—Ç–µ—Ä–∞–Ω–∞—Ö;\n‚ù§Ô∏è –ü—Ä–∏—Ö–æ–¥–∏—Ç–µ –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å –∫ –Ω–∞–º –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç, —á—Ç–æ–±—ã –≤–º–µ—Å—Ç–µ –æ—Ç–º–µ—Ç–∏—Ç—å –≤–∞–∂–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ, –ø–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ—é –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –∫ –≥–µ—Ä–æ—è–º, –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è —Å –ø–æ–ª—å–∑–æ–π –¥–ª—è –¥—É—à–∏ –∏ —Å–µ—Ä–¥—Ü–∞.\n\n–° –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º –ü–æ–±–µ–¥—ã! üéâüå∫üí™",
}


@bot.message_handler(func=lambda message: message.text == '–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è')
def events_command(message):
    events = list(EVENTS.keys())
    keyboard = types.ReplyKeyboardMarkup(row_width=1, resize_keyboard=True)
    for event in events:
        keyboard.add(types.KeyboardButton(event))
    keyboard.add(types.KeyboardButton('–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é'))
    bot.reply_to(message, "–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è:", reply_markup=keyboard)


@bot.message_handler(func=lambda message: message.text in EVENTS)
def events_message(message):
    answer = EVENTS[message.text]
    bot.reply_to(message, answer, reply_markup=get_events_keyboard())


@bot.message_handler(func=lambda message: message.text == '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é')
def back_to_main_menu(message):
    bot.reply_to(message, '–í—ã –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é!', reply_markup=get_main_menu())


def get_main_menu():
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.add(types.KeyboardButton('/start'))
    markup.add(types.KeyboardButton('–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ'))
    markup.add(types.KeyboardButton('–≠–∫–∑–∞–º–µ–Ω—ã'))
    markup.add(types.KeyboardButton('–û—Ü–µ–Ω–∫–∏'))
    markup.add(types.KeyboardButton('FAQs'))
    markup.add(types.KeyboardButton('–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤'))
    markup.add(types.KeyboardButton('–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω—É'))
    markup.add(types.KeyboardButton('–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è'))
    return markup


def get_events_keyboard():
    questions = list(EVENTS.keys())
    keyboard = types.ReplyKeyboardMarkup(row_width=1, resize_keyboard=True)
    for question in questions:
        keyboard.add(types.KeyboardButton(question))
    keyboard.add(types.KeyboardButton('–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é'))
    return keyboard


def get_faq_keyboard():
    questions = list(FAQS.keys())
    keyboard = types.ReplyKeyboardMarkup(row_width=1, resize_keyboard=True)
    for question in questions:
        keyboard.add(types.KeyboardButton(question))
    keyboard.add(types.KeyboardButton('–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é'))
    return keyboard


bot.polling(non_stop=True)
